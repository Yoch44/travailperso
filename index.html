<!doctype html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <title>PAGE TEST</title>
    </head>

    
        
    
    <body>
        <h1> Les formulaires en HTML 2 </h1>
        <form method="post" action="traitement.php">
            
            <label for="prenom">Entrer votre prénom :</label>
            <input type="text" name="prenom" id="prenom" required='required' maxlenght='20'>
            <span id='prenom_manquant'></span><br>

            <label for="mail">Entrer votre mail :</label>
            <input type="email" name="mail" id="mail" required='required'><br>


            <label for="mail">Entrer votre n° de téléphone :</label>    
            <input type="tel" name="tel" id="tel" required='required'><br>

            <input type="submit" value="Valider" id='bouton_envoi'>
        </form>
        <script>
            var validation = document.getElementById('bouton_envoi');
            var prenom = document.getElementById('prenom');
            var prenom_m = document.getElementById('prenom_manquant');  //  var message erreur à coté du champs
            var prenom_v = /^[a-zA-ZéèîïÉÈÎÏ][a-zéèêàçîï]+([-'\s][a-zA-ZéèîïÉÈÎÏ][a-zéèêàçîï]+)?/  // Premier partie pour la premiere lettre, deuxieme partie pour le reste du prénom, le + pour au moins 2 lettres, seconde partie pour second prénom pour nom composer 
            validation.addEventListener('click', f_valid);

            function f_valid(e){
                if (prenom.validity.valueMissing){
                    e.preventDefault();  // bloquer envois formulaire
                    prenom_m.textContent = ' Prénom manquant'; // afficher message alerte
                    prenom_m.style.color = 'red'; // Afficher l'erreur en rouge
                } 
                else if (prenom_v.test(prenom.value) == false){   // Si le format de mon prénom est faux alors, je bloque et affiche 'Format incorrect' en orange
                    event.preventDefault();                         
                    prenom_m.textContent = 'Format incorrect'
                    prenom_m.style.color = 'orange';
                }
                else{}
            }
        </script>  
    </body>
</html>